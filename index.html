<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
    <script>
        // Паттерны проектирования
        // Flyweight
        class Auto {
            constructor(model){
                this.model = model;
            }
        }
        class AutoFactory {
            constructor(name){
                this.models = {}
            }
            create(name){
                let model = this.models[name];
                if (model) return model;    // Если существует - выходим
                console.count('model');     // console counter
                this.models[name] = new Auto(name);
                return this.models[name];
            }
            getModels(){
                console.table(this.models);
            }
        }
        // Example
        const factory = new AutoFactory();
        const bmw = factory.create('Bmw');
        const audi = factory.create('Audi');
        const tesla = factory.create('Tesla');
        const blackTesla = factory.create('Tesla');
        console.log(factory.getModels());
    </script>
</html>